<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GPA & CGPA Calculator - AU R2021</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(120deg, #1d2671, #c33764);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.card {
  background: #fff;
  width: 95%;
  max-width: 520px;
  padding: 25px;
  border-radius: 14px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.25);
}

h1 {
  text-align: center;
  color: #1d2671;
  margin-bottom: 5px;
}

.subtitle {
  text-align: center;
  font-size: 14px;
  color: #555;
}

label {
  display: block;
  margin-top: 15px;
  font-weight: 600;
}

input, select {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 15px;
}

button {
  width: 100%;
  margin-top: 20px;
  padding: 12px;
  border: none;
  border-radius: 10px;
  background: #1d2671;
  color: #fff;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #162057;
}

.page {
  display: none;
}
</style>
</head>

<body>

<div class="card">

  <!-- PAGE 1 : WELCOME -->
  <section id="page-welcome" class="page">
    <h1>GPA & CGPA Calculator</h1>
    <div class="subtitle">
      Computer Science and Engineering<br>
      Anna University – Regulation 2021
    </div>

    <label>Student Name</label>
    <input type="text" id="studentName" placeholder="Enter your name">

    <label>Number of Semesters Completed</label>
    <select id="semCompleted">
      <option value="">Select (1–8)</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
    </select>

    <button onclick="handleWelcome()">Continue</button>
  </section>

  <!-- PAGE 2 : PLACEHOLDER (NEXT STEP) -->
  <section id="page-semester" class="page">
    <h1>Semester GPA Page</h1>
    <p>This page will show the GPA calculator.</p>

    <button onclick="showPage('page-welcome')">Back to Menu</button>
  </section>

</div>

<script>
/* ---------- SPA CORE ---------- */
function showPage(pageId) {
  document.querySelectorAll(".page").forEach(p => {
    p.style.display = "none";
  });
  document.getElementById(pageId).style.display = "block";
}

/* ---------- APP STATE ---------- */
let appState = {
  name: "",
  semestersCompleted: 0,
  currentSemester: 0,
  currentGPA: 0
};

/* ---------- GRADE POINTS ---------- */
const gradePoints = {
  "O": 10,
  "A+": 9,
  "A": 8,
  "B+": 7,
  "B": 6,
  "C": 5,
  "RA": 0
};

/* ---------- CURRICULUM (R2021 – CSE) ---------- */
/* Semester I only (template) */
const curriculum = {
  1: [
    { code: "HS3152", name: "Professional English - I", credits: 3 },
    { code: "MA3151", name: "Matrices and Calculus", credits: 4 },
    { code: "PH3151", name: "Engineering Physics", credits: 3 },
    { code: "CY3151", name: "Engineering Chemistry", credits: 3 },
    { code: "GE3151", name: "Problem Solving and Python Programming", credits: 3 },
    { code: "GE3152", name: "Heritage of Tamils", credits: 1 },
    { code: "GE3171", name: "Problem Solving and Python Programming Laboratory", credits: 2 },
    { code: "BS3171", name: "Physics and Chemistry Laboratory", credits: 2 },
    { code: "GE3172", name: "English Laboratory", credits: 1 }
  ]
};

/* ---------- PAGE 1 LOGIC ---------- */
function handleWelcome() {
  const name = document.getElementById("studentName").value.trim();
  const sems = document.getElementById("semCompleted").value;

  if (!name || !sems) {
    alert("Please enter name and semesters completed.");
    return;
  }

  appState.name = name;
  appState.semestersCompleted = parseInt(sems);
  appState.currentSemester = appState.semestersCompleted;

  loadSemesterPage(appState.currentSemester);
}

/* ---------- LOAD SEMESTER GPA PAGE ---------- */
function loadSemesterPage(semester) {
  const page = document.getElementById("page-semester");
  page.innerHTML = `
    <h1>Semester ${semester} GPA Calculator</h1>
    <p>Hello ${appState.name}</p>
    <div id="subjects"></div>
    <button onclick="calculateGPA()">Calculate GPA</button>
    <div id="gpaResult"></div>
    <button onclick="showPage('page-welcome')">Back to Menu</button>
  `;

  const subjectsDiv = document.getElementById("subjects");
  const subjects = curriculum[semester];

  subjects.forEach(sub => {
    subjectsDiv.innerHTML += `
      <label>${sub.code} – ${sub.name} (${sub.credits} credits)</label>
      <select id="${sub.code}">
        <option value="">Select Grade</option>
        <option>O</option>
        <option>A+</option>
        <option>A</option>
        <option>B+</option>
        <option>B</option>
        <option>C</option>
        <option>RA</option>
      </select>
    `;
  });

  showPage("page-semester");
}

/* ---------- GPA CALCULATION ---------- */
function calculateGPA() {
  const subjects = curriculum[appState.currentSemester];
  let totalCredits = 0;
  let totalPoints = 0;

  for (let sub of subjects) {
    const grade = document.getElementById(sub.code).value;
    if (!grade) {
      alert("Please select all grades.");
      return;
    }
    totalCredits += sub.credits;
    totalPoints += gradePoints[grade] * sub.credits;
  }

  const gpa = (totalPoints / totalCredits).toFixed(2);
  appState.currentGPA = gpa;

  document.getElementById("gpaResult").innerHTML = `
    <h3>Your Semester ${appState.currentSemester} GPA is: ${gpa}</h3>
  `;
}

/* ---------- INIT ---------- */
showPage("page-welcome");
</script>

/* ---------- SPA CORE ---------- */
function showPage(pageId) {
  document.querySelectorAll(".page").forEach(p => {
    p.style.display = "none";
  });
  document.getElementById(pageId).style.display = "block";
}

/* ---------- PAGE 1 LOGIC ---------- */
let appState = {
  name: "",
  semestersCompleted: 0
};

function handleWelcome() {
  const name = document.getElementById("studentName").value.trim();
  const sems = document.getElementById("semCompleted").value;

  if (!name || !sems) {
    alert("Please enter name and semesters completed.");
    return;
  }

  appState.name = name;
  appState.semestersCompleted = parseInt(sems);

  showPage("page-semester");
}

/* ---------- INIT ---------- */
showPage("page-welcome");
</script>

</body>
</html>

