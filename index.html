<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GPA & CGPA Calculator | Anna University R2021</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI",Roboto,Arial,sans-serif;
  background:#f4f6fb;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card{
  background:#fff;
  width:95%;
  max-width:760px;
  padding:30px;
  border-radius:14px;
  box-shadow:0 15px 40px rgba(0,0,0,.12);
}

.header{
  position:relative;
  text-align:center;
  margin-bottom:25px;
}

.college-logo{
  position:absolute;
  left:0;
  top:0;
  width:55px;
}

.header h1{
  margin:0;
  font-size:28px;
  color:#1d2671;
}
.header p{
  margin:6px 0 0;
  color:#555;
  font-size:14px;
}

label{
  display:block;
  margin-top:16px;
  font-weight:600;
}

input,select{
  width:100%;
  padding:11px;
  margin-top:6px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:14px;
}

button{
  width:100%;
  margin-top:22px;
  padding:13px;
  background:linear-gradient(135deg,#1d2671,#3f51b5);
  color:#fff;
  border:none;
  border-radius:10px;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}

button.secondary{
  background:#e0e3f5;
  color:#1d2671;
}

.page{display:none}

.subject{
  background:#f7f8ff;
  padding:10px;
  border-radius:8px;
  margin-top:12px;
}

.result{
  margin-top:20px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
  color:#1d2671;
}

footer{
  margin-top:30px;
  text-align:center;
  font-size:13px;
}

footer i{font-size:22px;margin:0 8px}
.fa-whatsapp{color:#25D366}
.fa-instagram{
  background:radial-gradient(circle at 30% 30%,#feda75,#fa7e1e,#d62976,#962fbf,#4f5bd5);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.fa-linkedin{color:#0A66C2}
.fa-phone{color:#2E7D32}
.fa-envelope{color:#D93025}

@media(max-width:600px){
  .college-logo{width:45px}
}
</style>
</head>

<body>
<div class="card">

<section id="welcome" class="page">
  <div class="header">
    <img src="college-logo.png" class="college-logo" alt="College Logo">
    <h1>GPA & CGPA Calculator</h1>
    <p>Computer Science and Engineering<br>Anna University â€“ Regulation 2021</p>
  </div>

  <label>Student Name</label>
  <input id="name" placeholder="Enter your name">

  <label>Email Address</label>
  <input id="email" type="email" placeholder="Enter your email">

  <label>Number of Semesters Completed</label>
  <select id="semCount">
    <option value="">Select</option>
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
  </select>

  <button onclick="start()">Continue</button>
</section>

<section id="gpaPage" class="page">
  <div class="header">
    <h1 id="semTitle"></h1>
    <p id="userText"></p>
  </div>

  <div id="subjects"></div>

  <button onclick="calcGPA()">Calculate GPA</button>
  <div id="gpaResult" class="result"></div>

  <button id="cgpaBtn" style="display:none" onclick="openCGPA()">Calculate CGPA</button>
  <button class="secondary" onclick="show('welcome')">Back</button>
</section>

<section id="cgpaPage" class="page">
  <div class="header"><h1>CGPA Calculator</h1></div>
  <div id="cgpaInputs"></div>
  <button onclick="calcCGPA()">Calculate CGPA</button>
  <div id="cgpaResult" class="result"></div>
  <button class="secondary" onclick="show('welcome')">Back</button>
</section>

<footer>
  This is created by <b>M Zia Anas</b><br><br>
  <a href="https://wa.me/919363645734"><i class="fab fa-whatsapp"></i></a>
  <a href="https://www.instagram.com/m_zia_anas"><i class="fab fa-instagram"></i></a>
  <a href="https://www.linkedin.com/in/zia-anes-m"><i class="fab fa-linkedin"></i></a>
  <a href="mailto:ziaanesm@gmail.com"><i class="fas fa-envelope"></i></a>
  <a href="tel:+919363645734"><i class="fas fa-phone"></i></a>
</footer>

</div>

<script>
/* ===== GOOGLE FORM TRACKING ===== */
const FORM_URL="https://docs.google.com/forms/d/e/1FAIpQLSfSfbRG6U9CmcflXPz8J_DtYoXxCHcIe1LfrvdH2zfQ9b7qyg/formResponse";
const NAME_ID="entry.2023813567";
const EMAIL_ID="entry.1559328429";

function track(n,e){
  const d=new URLSearchParams();
  d.append(NAME_ID,n);
  d.append(EMAIL_ID,e);
  fetch(FORM_URL,{method:"POST",mode:"no-cors",body:d});
}

/* ===== DATA ===== */
const grades={O:10,"A+":9,A:8,"B+":7,B:6,C:5,RA:0};
const semCredits={1:22,2:26,3:23,4:22};

const curriculum={
1:[
["HS3151 Professional English I",2],
["MA3151 Matrices and Calculus",4],
["PH3151 Engineering Physics",3],
["CY3151 Engineering Chemistry",3],
["GE3151 Problem Solving and Python Programming",3],
["GE3152 Heritage of Tamils",1],
["GE3171 Python Programming Laboratory",2],
["BS3171 Physics & Chemistry Lab",2],
["GE3172 English Laboratory",1]
],
2:[
["HS3252 Professional English II",2],
["MA3251 Statistics and Numerical Methods",4],
["PH3256 Physics for Information Science",3],
["BE3251 Basic Electrical and Electronics Engineering",3],
["GE3251 Engineering Graphics",4],
["CS3251 Programming in C",3],
["GE3252 Tamils and Technology",1],
["GE3271 Engineering Practices Lab",2],
["CS3271 Programming in C Lab",2],
["GE3272 Communication Lab",2]
],
3:[
["MA3354 Discrete Mathematics",4],
["CS3351 Digital Principles & Computer Organization",4],
["CS3352 Foundations of Data Science",3],
["CS3301 Data Structures",3],
["CS3391 Object Oriented Programming",3],
["CS3311 Data Structures Lab",1.5],
["CS3381 OOP Lab",1.5],
["CS3361 Data Science Lab",2],
["GE3361 Professional Development",1]
],
4:[
["CS3452 Theory of Computation",3],
["CS3491 Artificial Intelligence & Machine Learning",4],
["CS3492 Database Management Systems",3],
["CS3401 Algorithms",4],
["CS3451 Operating Systems",3],
["GE3451 Environmental Sciences",2],
["CS3461 OS Lab",1.5],
["CS3481 DBMS Lab",1.5]
]
};

let state={name:"",sem:0,gpas:{}};

/* ===== FUNCTIONS ===== */
function show(id){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
  document.getElementById(id).style.display="block";
}

function start(){
  const n=name.value.trim();
  const e=email.value.trim();
  const s=semCount.value;
  if(!n||!e||!s){alert("Fill all fields");return;}
  track(n,e);
  state.name=n;
  state.sem=parseInt(s);
  loadSem();
}

function loadSem(){
  semTitle.innerText=`Semester ${state.sem} GPA`;
  userText.innerText=`Hello ${state.name}`;
  subjects.innerHTML="";
  curriculum[state.sem].forEach((s,i)=>{
    subjects.innerHTML+=`
    <div class="subject">
      <label>${s[0]} (${s[1]} credits)</label>
      <select id="g${i}">
        <option value="">Select</option>
        <option>O</option><option>A+</option><option>A</option>
        <option>B+</option><option>B</option><option>C</option><option>RA</option>
      </select>
    </div>`;
  });
  cgpaBtn.style.display=state.sem>1?"block":"none";
  gpaResult.innerText="";
  show("gpaPage");
}

function calcGPA(){
  let t=0,c=0;
  curriculum[state.sem].forEach((s,i)=>{
    const g=document.getElementById("g"+i).value;
    if(!g){alert("Select all grades");return;}
    t+=grades[g]*s[1];
    c+=s[1];
  });
  const gpa=(t/c).toFixed(2);
  state.gpas[state.sem]=parseFloat(gpa);
  gpaResult.innerText="GPA : "+gpa;
}

function openCGPA(){
  cgpaInputs.innerHTML="";
  for(let i=1;i<=state.sem;i++){
    cgpaInputs.innerHTML+=`
    <label>Semester ${i} GPA</label>
    <input type="number" step="0.01" id="cg${i}" value="${state.gpas[i]||""}">
    `;
  }
  show("cgpaPage");
}

function calcCGPA(){
  let t=0,c=0;
  for(let i=1;i<=state.sem;i++){
    const g=parseFloat(document.getElementById("cg"+i).value);
    if(isNaN(g)){alert("Enter all GPAs");return;}
    t+=g*semCredits[i];
    c+=semCredits[i];
  }
  cgpaResult.innerText="CGPA : "+(t/c).toFixed(2);
}

show("welcome");
</script>
</body>
</html>
