<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GPA & CGPA Calculator - AU R2021</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:#ffffff;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  background:#fff;
  width:95%;
  max-width:600px;
  padding:25px;
  border-radius:10px;
  box-shadow:0 8px 25px rgba(0,0,0,.1);
}
h1{text-align:center;color:#1d2671;}
.subtitle{text-align:center;font-size:14px;color:#555;}
label{display:block;margin-top:14px;font-weight:600;}
select,input{
  width:100%;padding:10px;margin-top:6px;
  border-radius:6px;border:1px solid #ccc;
}
button{
  width:100%;margin-top:18px;padding:12px;
  background:#1d2671;color:#fff;
  border:none;border-radius:8px;
  font-size:16px;font-weight:bold;
  cursor:pointer;
}
.page{display:none;}
.subject{margin-top:10px;}
footer{
  margin-top:20px;
  text-align:center;
  font-size:13px;
  color:#444;
}
footer a{margin:0 8px;text-decoration:none;}
.fa-whatsapp{color:#25D366;}
.fa-instagram{
  background:radial-gradient(circle at 30% 30%,#feda75,#fa7e1e,#d62976,#962fbf,#4f5bd5);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.fa-linkedin{color:#0A66C2;}
.fa-phone{color:#2E7D32;}
.fa-envelope{color:#D93025;}
footer i{font-size:22px;}
</style>
</head>

<body>

<div class="card">

<section id="page-welcome" class="page">
  <h1>GPA & CGPA Calculator</h1>
  <div class="subtitle">
    Computer Science and Engineering<br>
    Anna University – Regulation 2021
  </div>

  <label>Student Name</label>
  <input id="studentName">

  <label>Number of Semesters Completed</label>
  <select id="semCompleted">
    <option value="">Select (1–8)</option>
    <option>1</option><option>2</option><option>3</option>
    <option>4</option><option>5</option><option>6</option>
    <option>7</option><option>8</option>
  </select>

  <button onclick="startGPA()">Continue</button>
</section>

<section id="page-gpa" class="page">
  <h1 id="semTitle"></h1>
  <p id="userText"></p>

  <div id="subjects"></div>

  <button onclick="calculateGPA()">Calculate GPA</button>
  <div id="result"></div>

  <button id="cgpaBtn" style="display:none" onclick="showCGPAPage()">Calculate CGPA</button>
  <button onclick="showPage('page-welcome')">Back to Menu</button>
</section>

<section id="page-cgpa" class="page">
  <h1>CGPA Calculator</h1>
  <div id="cgpaInputs"></div>
  <button onclick="calculateCGPA()">Calculate CGPA</button>
  <div id="cgpaResult"></div>
  <button onclick="showPage('page-welcome')">Back to Menu</button>
</section>

<footer>
  This is created by <b>M Zia Anes</b><br><br>
  <a href="https://wa.me/919363645734" target="_blank"><i class="fab fa-whatsapp"></i></a>
  <a href="https://www.instagram.com/m_zia_anas" target="_blank"><i class="fab fa-instagram"></i></a>
  <a href="https://www.linkedin.com/in/zia-anes-m" target="_blank"><i class="fab fa-linkedin"></i></a>
  <a href="mailto:ziaanesm@gmail.com"><i class="fas fa-envelope"></i></a>
  <a href="tel:+919363645734"><i class="fas fa-phone"></i></a>
</footer>

</div>

<script>
function showPage(id){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
  document.getElementById(id).style.display="block";
}

let appState={
  name:"",
  semester:0,
  gpas:{}   // store calculated GPAs
};

const gradePoints={O:10,"A+":9,A:8,"B+":7,B:6,C:5,RA:0};
const semesterCredits={1:22,2:26,3:23};

const curriculum={
  1:[
    {code:"HS3152",name:"Professional English – I",credits:3},
    {code:"MA3151",name:"Matrices and Calculus",credits:4},
    {code:"PH3151",name:"Engineering Physics",credits:3},
    {code:"CY3151",name:"Engineering Chemistry",credits:3},
    {code:"GE3151",name:"PSPP",credits:3},
    {code:"GE3152",name:"Heritage of Tamils",credits:1},
    {code:"GE3171",name:"PSPP Lab",credits:2},
    {code:"BS3171",name:"Physics & Chemistry Lab",credits:2},
    {code:"GE3172",name:"English Lab",credits:1}
  ],
  2:[
    {code:"HS3252",name:"Professional English – II",credits:2},
    {code:"MA3251",name:"Statistics & Numerical Methods",credits:4},
    {code:"PH3256",name:"Physics for IS",credits:3},
    {code:"BE3251",name:"BEEE",credits:3},
    {code:"GE3251",name:"Engineering Graphics",credits:4},
    {code:"CS3251",name:"Programming in C",credits:3},
    {code:"GE3252",name:"Tamils & Technology",credits:1},
    {code:"GE3271",name:"Engineering Practices Lab",credits:2},
    {code:"CS3271",name:"C Programming Lab",credits:2},
    {code:"GE3272",name:"Communication Lab",credits:2}
  ],
  3:[
    {code:"MA3354",name:"Discrete Mathematics",credits:4},
    {code:"CS3351",name:"DPCO",credits:4},
    {code:"CS3352",name:"Foundations of Data Science",credits:3},
    {code:"CS3301",name:"Data Structures",credits:3},
    {code:"CS3391",name:"OOPS",credits:3},
    {code:"CS3311",name:"DS Lab",credits:1.5},
    {code:"CS3381",name:"OOPS Lab",credits:1.5},
    {code:"CS3361",name:"DS Lab",credits:2},
    {code:"GE3361",name:"Professional Development",credits:1}
  ]
};

function startGPA(){
  const name=document.getElementById("studentName").value.trim();
  const sem=document.getElementById("semCompleted").value;
  if(!name||!sem){alert("Enter name and semester");return;}
  appState.name=name;
  appState.semester=parseInt(sem);
  loadSemester();
}

function loadSemester(){
  document.getElementById("semTitle").innerText=`Semester ${appState.semester} GPA`;
  document.getElementById("userText").innerText=`Hello ${appState.name}`;
  const box=document.getElementById("subjects");
  box.innerHTML="";
  curriculum[appState.semester].forEach(s=>{
    box.innerHTML+=`
      <label>${s.code} – ${s.name} (${s.credits})</label>
      <select id="${s.code}">
        <option value="">Grade</option>
        <option>O</option><option>A+</option><option>A</option>
        <option>B+</option><option>B</option><option>C</option><option>RA</option>
      </select>`;
  });
  document.getElementById("cgpaBtn").style.display=
    appState.semester>=2 ? "block" : "none";
  showPage("page-gpa");
}

function calculateGPA(){
  let tc=0,tp=0;
  curriculum[appState.semester].forEach(s=>{
    const g=document.getElementById(s.code).value;
    if(!g){alert("Select all grades");return;}
    tc+=s.credits;
    tp+=gradePoints[g]*s.credits;
  });
  const gpa=(tp/tc).toFixed(2);
  appState.gpas[appState.semester]=parseFloat(gpa);
  document.getElementById("result").innerHTML=`<h3>GPA: ${gpa}</h3>`;
}

function showCGPAPage(){
  let html="";
  for(let i=1;i<=appState.semester;i++){
    html+=`
      <label>Semester ${i} GPA</label>
      <input type="number" step="0.01" id="gpa${i}"
      value="${appState.gpas[i] ?? ""}">`;
  }
  document.getElementById("cgpaInputs").innerHTML=html;
  showPage("page-cgpa");
}

function calculateCGPA(){
  let total=0,credits=0;
  for(let i=1;i<=appState.semester;i++){
    const gpa=parseFloat(document.getElementById(`gpa${i}`).value);
    if(isNaN(gpa)){alert("Enter all GPAs");return;}
    total+=gpa*semesterCredits[i];
    credits+=semesterCredits[i];
  }
  document.getElementById("cgpaResult").innerHTML=
    `<h3>CGPA: ${(total/credits).toFixed(2)}</h3>`;
}

showPage("page-welcome");
</script>

</body>
</html>

